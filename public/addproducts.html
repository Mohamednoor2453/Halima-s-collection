<!-- addproducts.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Halima's Admin</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="sidebar">
        <ul>
            <!-- Dashboard Dropdown -->
            <li>
                <a href="#dashboardDropdown" onclick="toggleDropdown('dashboardDropdown')">Dashboard</a>
                <ul id="dashboardDropdown" style="display: none;">
                    <li><a href="dashboard.html">Dashboard Home</a></li>
                    <li><a href="#">Analytics</a></li>
                </ul>
            </li>

            <!-- Users Dropdown -->
            <li>
                <a href="#usersDropdown" onclick="toggleDropdown('usersDropdown')">Users</a>
                <ul id="usersDropdown" style="display: none;">
                    <li><a href="#">All Users</a></li>
                    <li><a href="#">Add New User</a></li>
                    <li><a href="#">User Roles</a></li>
                </ul>
            </li>

            <!-- Products Dropdown -->
            <li>
                <a href="#productsDropdown" onclick="toggleDropdown('productsDropdown')">Products</a>
                <ul id="productsDropdown" style="display: none;">
                    <li><a href="#">All Products</a></li>
                    <li><a href="/admin/addingProducts">Add New Product</a></li>
                    <li><a href="#">Delete Product</a></li>
                </ul>
            </li>

            <!-- Settings Dropdown -->
            <li>
                <a href="#settingsDropdown" onclick="toggleDropdown('settingsDropdown')">Settings</a>
                <ul id="settingsDropdown" style="display: none;">
                    <li><a href="settings.html">Change Password</a></li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="content">
        <h1>Add New Product</h1>
<<<<<<< HEAD
        <form action="/admin/addingProducts" method="POST">
=======
        <form action="/admin/admin/addingProducts" method="POST" enctype="multipart/form-data">
>>>>>>> 2bed6d9412cf058d500e9cf6c02ed3f14f83d45c
            <!-- Product Name -->
            <label for="name">Product Name:</label>
            <input type="text" id="name" name="name" required><br>

            <!-- Description -->
            <label for="description">Description:</label>
            <textarea id="description" name="description" required></textarea><br>

            <!-- Price -->
            <label for="price">Price (in Ksh):</label>
            <input type="number" id="price" name="price" step="0.01" required><br>

            <!-- Stock -->
            <label for="stock">Stock Quantity:</label>
            <input type="number" id="stock" name="stock" required><br>

            <!-- Categories Dropdown -->
            <label for="categories">Categories:</label>
            <select id="categories" name="categories" required>
                <option value="" disabled selected>Select a category</option>
                <option value="sneakers">Sneakers</option>
                <option value="men-tshirt">Men-Tshirt</option>
                <option value="men-trousers">Men-Trousers</option>
                <option value="men-shoes">Men-Shoes</option>
                <option value="women-shoes">Women-Shoes</option>
                <option value="women-trousers">Women-Trousers</option>
            </select><br>

            <!-- Images -->
            <label for="images">Product Images:</label>
            <input type="file" id="images" name="images" accept="image/*" multiple required><br>

            <!-- Submit Button -->
            <button type="submit">Add Product</button>
        </form>
    </div>

    <script>
        // Function to toggle dropdown visibility
        function toggleDropdown(id) {
            const dropdown = document.getElementById(id);
            const isVisible = dropdown.style.display === "block";
            dropdown.style.display = isVisible ? "none" : "block";
        }

    //     document.querySelector('form').addEventListener('submit', function(event) {
    //     event.preventDefault(); // Prevent the form from submitting normally

    //     const formData = new FormData(this); // Collect form data

    //     // Send the form data via AJAX
    //     fetch('/admin/addingProducts', {
    //         method: 'POST',
    //         body: formData
    //     })
    //     .then(response => response.json())
    //     .then(data => {
    //         if (data.success) {
    //             // Store the product details in localStorage to access in the addedProducts page
    //             localStorage.setItem('newProduct', JSON.stringify(data.product));

    //             // Redirect to the addedProducts page
    //             window.location.href = '/admin/addedProducts';
    //         } else {
    //             alert('Error adding product: ' + data.message);
    //         }
    //     })
    //     .catch(error => {
    //         console.error('Error:', error);
    //     });
    // });
    </script>
</body>
</html>