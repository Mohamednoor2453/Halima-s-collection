<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div>
        <nav>
            <div class="site-title">
                <a href="/"><h1>Halima Collection</h1></a>
                <p class="font-semibold">Your One Stop Shop</p>
            </div>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/products/womensproducts">Women</a></li>
                <li><a href="/products/mensproducts">Men</a></li>
                <li><a href="/products/sneakers">Sneakers</a></li>
                <li><a href="/products/accessories">Accessories</a></li>
            </ul>
            <div class="register">
                <a href="/login">Log In</a>
                <a href="/signup">Sign Up</a>
                <a href="/cart/view_cart"><i class="fas fa-shopping-cart"></i></a>
            </div>
            <div>
                <form action="/products/search" method="GET" class="search-bar">
                    <input type="text" name="name" placeholder="Search products...">
                    <button type="submit"><i class="fas fa-search"></i></button>
                    <button type="button" class="clear-search-button" onclick="clearSearch()">Clear Search</button>

                </form>
            </div>
        </nav>
    </div>

    <div class="search-results">
        <h2>Search Results</h2>

        <% if (products.length > 0) { %>
            <div class="products-container">
                <% products.forEach(product => { %>
                    <div class="product-item">
                        <img src="<%= product.images[0] %>" alt="<%= product.name %>" class="product-image">
                        <a href="/products/<%= product.categories[0] %>/<%= product._id %>">
                            <h3><%= product.name %></h3>
                        </a>
                        <p class="product-price">Ksh <%= product.price %></p>
                    </div>
                <% }); %>
            </div>
        <% } else { %>
            <p>No products found matching your search criteria.</p>
        <% } %>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-section about">
                <h3>About Us</h3>
                <p>Your go-to source for fashion and style. Discover our curated collection.</p>
            </div>
            <div class="footer-section links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/products/mensproducts">Men</a></li>
                    <li><a href="/products/womensproducts">Women</a></li>
                    <li><a href="/contact">Contact Us</a></li>
                </ul>
            </div>
            <div class="footer-section social">
                <h3>Follow Us</h3>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
            </div>
        </div>
        <div class="footer-bottom">
            &copy; 2024 Halima Collection. All Rights Reserved.
        </div>
    </footer>

    <script>

        function clearSearch() {
        // Clear the search input field
        document.querySelector('.search-input').value = '';
    
        // Optionally, redirect to the same page to reset the search results
        window.location.href = '/search';  // Adjust this to your search route
    }
    </script>
    
</body>
</html>
