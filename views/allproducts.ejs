<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Halima's Admin | <%= title %></title>
    <link rel="stylesheet" href="/css/style.css">
    <script>
        function toggleSidebar() {
               const sidebar = document.querySelector(".sidebar");
               sidebar.classList.toggle("active");
           }
   
           // Function to toggle dropdown visibility
           function toggleDropdown(id) {
               const dropdown = document.getElementById(id);
               const isVisible = dropdown.style.display === "block";
               dropdown.style.display = isVisible ? "none" : "block";
           }
   </script>
</head>
<body>
    <div class="sidebar">
        <ul>
            <!-- Dashboard Dropdown -->
            <li>
                <a href="#dashboardDropdown" onclick="toggleDropdown('dashboardDropdown')">Dashboard</a>
                <ul id="dashboardDropdown" style="display: none;">
                    <li><a href="/admin">Dashboard Home</a></li>
                    <li><a href="#">Analytics</a></li>
                </ul>
            </li>

            <!-- Users Dropdown -->
            <li>
                <a href="#usersDropdown" onclick="toggleDropdown('usersDropdown')">Users</a>
                <ul id="usersDropdown" style="display: none;">
                    <li><a href="#">All Users</a></li>
                    <li><a href="#">Add New User</a></li>
                    <li><a href="#">User Roles</a></li>
                </ul>
            </li>

            <!-- Products Dropdown -->
            <li>
                <a href="#productsDropdown" onclick="toggleDropdown('productsDropdown')">Products</a>
                <ul id="productsDropdown" style="display: none;">
                    <li><a href="/admin/addedProducts">All Products</a></li>
                    <li><a href="/addingProducts">Add New Product</a></li>
                    <li><a href="#">Delete Product</a></li>
                </ul>
            </li>

            <!-- Settings Dropdown -->
            <li>
                <a href="#settingsDropdown" onclick="toggleDropdown('settingsDropdown')">Settings</a>
                <ul id="settingsDropdown" style="display: none;">
                    <li><a href="settings.html">Change Password</a></li>
                </ul>
            </li>
        </ul>
    </div>
    <!-- Toggle button for mobile -->
    <button class="sidebar-toggle" onclick="toggleSidebar()">â˜°</button>

    <h1>Products</h1>
    <div class="product-list">
        <% if (products && products.length) { %>
            <% products.forEach(product => { %>
                <div class="product-item">
                    <h3><%= product.name %></h3>
                    <p><%= product.description %></p>
                    <p>Price: $<%= product.price %></p>
                    <p>Stock: <%= product.stock %></p>
                    <div class="product-images">
                        <% product.images.forEach(image => { %>
                            <img src="<%= image %>" alt="<%= product.name %> image" />
                        <% }) %>
                    </div>
                </div>
            <% }) %>
        <% } else { %>
            <p>No products found.</p>
        <% } %>
    </div>
</body>
</html>